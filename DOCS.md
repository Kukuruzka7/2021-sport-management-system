# Система для проведения спортивных соревнований

Программа позволяет проводить соревнования по нескольким видам спорта

## Общая информация

Программа подразумевает:

1. Создание стартовых протоколов по заявкам команд.
2. Создание финальных протоколов либо по результатам прохождения каждым участником, либо по результатам на контрольных
   точках.

Для корректного использования необходимо запустить программу в режиме создания стартовых протоколов; на этой стадии
программа создаст стартовые протоколы по командным заявкам.

После этого программа завершится, и ее необходимо запустить повторно. На этот раз необходимо загрузить результаты
соревнований, а программа создаст финальные протоколы (вводить командные заявки не требуются, данные сохранятся в кэше
программы). Одновременно создаются три вида протоколов: общие, по командам и по группам.

Результаты загружаются в одном из двух форматов: по спортсменам и по контрольным пунктам (см. ниже).

## Протокол взаимодействия с программой ##

Взаимодействие с программой осуществляется посредством файлов-таблиц (расширение `.csv`).

### Для получения стартовых протоколов: ###

###### Порядок действий ######

1. В аргументы командной строки ввести:
   > start `название соревнования` `название спорта` `дата соревнования` `путь к файлу, в котором находятся пути к файлам с заявками команд`

   > Например: start Olympiad 2016-08-08 ApplicationsNames.txt
2. Стартовые протоколы для соревнования будут сохранены
   в ```src/main/resources/competitions/`название_соревнования`/startProtocol/```

###### Требование к формату входных данных ######

1. **Название соревнования**

   Не должно содержать спецсимволов (`.`, `/`)

2. **Название спорта**

   Доступные виды спорта: бег, _TBA_.

3. **Дата соревнования**

   Обязательно в формате `YYYY-MM-DD`.

4. **Файлы с путями к заявкам**

   Файл должен представлять собой текстовый файл (рекомендуются расширения `.txt` или `.rtf`), в каждой строчке которого
   указан путь до заявки.

   Каждая заявка является собой таблицей (`.csv`), пример заявочной таблицы:

| Белые       |          |         |                  |            |
|-------------|----------|---------|------------------|------------|
| **Фамилия** | **Имя**  | **Пол** | **Год рождения** | **Разряд** |
| Петр        | Врангель | М       | 1878             | КМС        |
| Александр   | Колчак   | М       | 1874             | МС         |
| Антон       | Деникин  | М       | 1872             | I          |

###### Формат выходных данных ######

В вышеупомянутом пути для каждой соревновательной группы будет создан файл-таблица `название_группы.csv`. В нем будет
каждому спортсмену будет сообщен его номер и время старта. Пример полученной таблицы для группы `М2000`:

| М40-s       |         |         |                  |            |
|-------------|---------|---------|------------------|------------|
| **Фамилия** | **Имя** | **Пол** | **Год рождения** | **Разряд** |
| Маккартни   | Пол     | М       | 1942             | МС         |
| Леннон      | Джон    | М       | 1940             | МС         |
| Харрисон    | Джорж   | М       | 1943             | КМС        |
| Старр       | Ринго   | М       | 1940             | КМС        |

---

### Для получения итоговых протоколов, используя результаты, сгруппированные по спортсменам: ###

###### Порядок действий ######

1. В аргументы командной строки ввести:
   > finish_by_athletes `путь к файлу с результатами` `название соревнования`

   Например:
   > finish_by_athlete src/test/testFiles/Olympiad/ResultsByAthletes.csv Olympiad
2. Финальные протоколы для соревнования будут сохранены
   в ```src/main/resources/competitions/название_соревнования/finishProtocol/```

###### Требование к формату входных данных ######

1. **Файл с результатам**

Файл должен являться таблицей (`.csv`), пример файла с результатами:

| 2 | A | 12:05:06 | B | 12:10:23 |   |          |
|---|---|----------|---|----------|---|----------|
| 3 | A | 12:04:47 | B | 12:10:00 |   |          |
| 5 | A | 12:06:01 | B | 12:11:39 |   |          |
| 7 | A | 12:04:31 | C | 12:09:02 | D | 12:13:42 |

Здесь `2`, `3`, `5`, `7` --- номера спортсменов, `A`, `B`, `С`, `D` --- названия контрольных пунктов, а `12:05:06` ---
момент времени, в который `2` пройдет `A`.

2. **Название соревнования**

Название должно посимвольно совпадать с названием, указанным при первом запуске

###### Формат выходных данных ######

1. **Общий протокол**
   Протокол-таблица будет храниться в файле `overalCSV.csv`. Он будет содержать сводную информацию по всем атлетам.
   Пример общего протокола:

   | Протокол результатов. |       | Протокол результатов |            |      |       |          |           |       |            |
      |-----------------------|-------|----------------------|------------|------|-------|----------|-----------|-------|------------|
   | xxx_ATTOCTOJIbl_xxx   |       |                      |            |      |       |          |           |       |            |
   | № п/п                 | Номер | Фамилия              | Имя        | Г.р. | Разр. | Команда  | Результат | Место | Отставание |
   | 1                     | 232   | Первозванный         | Андрей     | 0001 |       | Вифсаида | 00:06:58  | 1     |            |
   | 2                     | 281   | Симеон               | Петр       | 0001 |       | Вифсаида | 00:07:04  | 2     | +0:06      |
   | 3                     | 145   | Богослов             | Иоанн      | 0002 |       | Вифсаида | 00:07:27  | 3     | +0:29      |
   | 4                     | 142   | Зевдеев              | Иаков      | 0003 |       | Галилея  | 00:07:36  | 4     | +0:38      |
   | 5                     | 133   | Вифсаидский          | Филипп     | 0005 |       | Вифсаида | 00:07:55  | 5     | +0:57      |
   | 6                     | 146   | Нафанаил             | Варфоломей | 0008 |       | Кана     | 00:08:17  | 6     | +1:19      |
   | 7                     | 279   | Левий                | Матфей     | 0013 |       | Галилея  | 00:08:20  | 7     | +1:22      |
   | 8                     | 280   | Близнец              | Фома       | 0021 |       | Пенеады  | 00:08:43  | 8     | +1:45      |
   | 9                     | 259   | Алфеев               | Иаков      | 0034 |       | Галилея  | 00:09:27  | 9     | +2:29      |
   | 10                    | 258   | Фаддей               | Иуда       | 0055 |       | Баниса   | 00:09:39  | 10    | +2:41      |
   | 11                    | 260   | Кананит              | Симон      | 0089 |       | Кана     | 00:09:59  | 11    | +3:01      |
   | 12                    | 261   | Искариот             | Иуда       | 0144 |       | Иудея    | снят      |       |            |
   | TroYni4OK             |       |                      |            |      |       |          |           |       |            |
   | 1                     | 147   | БОГ                  | ОТЕЦ       | 0000 | ММС   | ТВОРЦЫ   | 0:23:17   | 1     |            |
   | 2                     | 105   | БОГ                  | СЫН        | 0000 | ММС   | ТВОРЦЫ   | 00:26:36  | 2     | +3:19      |
   | 3                     | 148   | БОГ                  | СВЯТОЙ ДУХ | 0000 | ММС   | ТВОРЦЫ   | 00:27:07  | 3     | +3:50      |

2. **Протокол по командам**

   Для каждой команды протокол-таблица будет храниться в файле `teams/название_команды.csv`. Пример протокола для
   команды:

   | Команда мечты |       |         |           |      |       |           |           |       |            |
      |---------------|-------|---------|-----------|------|-------|-----------|-----------|-------|------------|
   | № п/п         | Номер | Фамилия | Имя       | Г.р. | Разр. | Команда   | Результат | Место | Отставание |
   | 1             | 1     | Хоккинс | Джим      | 1750 | I     | Испаньола | 01:39:10  | 1     |            |
   | 1             | 3     | Смолетт | Александр | 1719 | ММС   | Испаньола | 03:07:10  | 1     |            |
   | 2             | 2     | Джон    | Сильвер   | 1721 | ММС   | Испаньола | 03:09:01  | 2     | 01:01:01   |


3. **Протокол по группы**
   Для каждой группы протокол-таблица будет храниться в файле `groups/название_команды.csv`. Пример протокола для
   команды:

   | Татарстан |       |             |          |      |       |             |           |       |            |
      |-----------|-------|-------------|----------|------|-------|-------------|-----------|-------|------------|
   | № п/п     | Номер | Фамилия     | Имя      | Г.р. | Разр. | Команда     | Результат | Место | Отставание |
   | 1         | 1     | Миргалимова | Розалина | 2003 | КМС   | Казань      | 01:39:10  | 1     |            |
   | 2         | 3     | Сибгатуллин | Данил    | 2002 | IIIю  | Казань      | 08:52:00  | 1     | +7:12:50   |
   | 3         | 2     | Москаленко  | Тимофей  | 2004 | МС    | Калининград | снят      |       |            |

---

### Для получения итоговых протоколов, используя результаты, сгруппированные по контрольным точкам: ###

###### Порядок действий ######

1. В аргументы командной строки ввести:
   > finish_by_checkpoints `файл с результатами` `название соревнования`

   Например:
   > finish_by_checkpoints src/test/testFiles/Olympiad/ResultsByCheckPoints.csv Olympiad

2. Финальные протоколы для соревнования будут сохранены
   в ```src/main/resources/competitions/название соревнования/finishProtocol/```

###### Требование к формату входных данных ######

1. **Файл с результатам**

Файл должен являться таблицей (`.csv`), пример файла с результатами:

| Checkpoint Alpha   | 2 | 12:05:06 | 3  | 12:04:47 | 5 | 12:06:01 |
|--------------------|---|----------|----|----------|---|----------|
| Checkpoint Beta    | 2 | 12:10:23 | 3  | 12:10:00 | 5 | 12:11:39 |
| Checkpoint Charlie | 7 | 12:13:55 | 11 | 12:14:37 |   |          |

Здесь `2`, `3`, `5`, `7`, `11` --- номера спортсменов, `Checkpoint Alpha`, `Checkpoint Beta`, `Checkpoint Charlie` ---
названия контрольных пунктов, а `12:05:06` --- момент времени, в который `2` пройдет `Checkpoint Alpha`.